<form
	[formGroup]="formService.form"
	(ngSubmit)="formService.register()"
	class="gap-8 grid grid-cols-1 w-full"
>
	<gb-auth-email-input [email]="email()">
		<ng-container errors>
			@if ((email().touched || email().dirty) && email().hasError('required')) {
				<p-message severity="error" size="small" variant="simple">Email is required.</p-message>
			}

			@if ((email().touched || email().dirty) && email().hasError('email')) {
				<p-message severity="error" size="small" variant="simple">
					Email should be a valid email address.
				</p-message>
			}
		</ng-container>
	</gb-auth-email-input>

	<gb-auth-password-input [password]="password()">
		<ng-container errors>
			@if ((password().touched || password().dirty) && password().hasError('required')) {
				<p-message severity="error" size="small" variant="simple">Password is required.</p-message>
			}

			@if ((password().touched || password().dirty) && password().hasError('minlength')) {
				<p-message severity="error" size="small" variant="simple"
					>Password should contain at least 8 characters.
				</p-message>
			}

			@if ((password().touched || password().dirty) && password().hasError('pattern')) {
				<p-message severity="error" size="small" variant="simple">
					Password should contain at least one: uppercase letter, lowercase letter, number and
					special symbol ('!', '?', '_', '$', '#', '%', '^', '&', '*').
				</p-message>
			}
		</ng-container>
	</gb-auth-password-input>

	<gb-auth-password-input name="rePassword" [password]="rePassword()" label="Confirm password">
		<ng-container errors>
			@if ((rePassword().touched || rePassword().dirty) && rePassword().hasError('required')) {
				<p-message severity="error" size="small" variant="simple">Password is required.</p-message>
			}

			@if ((rePassword().touched || rePassword().dirty) && rePassword().hasError('minlength')) {
				<p-message severity="error" size="small" variant="simple"
					>Password should contain at least 8 characters.
				</p-message>
			}

			@if ((rePassword().touched || rePassword().dirty) && rePassword().hasError('pattern')) {
				<p-message severity="error" size="small" variant="simple">
					Password should contain at least one: uppercase letter, lowercase letter, number and
					special symbol ('!', '?', '_', '$', '#', '%', '^', '&', '*').
				</p-message>
			}

			@if (
				(rePassword().touched || rePassword().dirty) &&
				formService.form.hasError('passwordMismatch')
			) {
				<p-message severity="error" size="small" variant="simple">
					Passwords should match.
				</p-message>
			}
		</ng-container>
	</gb-auth-password-input>

	<p-button
		label="Register"
		type="submit"
		icon="pi pi-sign-in"
		rounded="true"
		[loading]="formService.auth.isRegistrationLoading()"
		styleClass="w-full"
	/>
</form>
