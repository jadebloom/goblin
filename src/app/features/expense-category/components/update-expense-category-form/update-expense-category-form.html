<form
	[formGroup]="formService.form"
	(ngSubmit)="formService.updateExpenseCategory()"
	class="gap-8 grid grid-cols-1 w-full"
>
	<div class="flex flex-col gap-2">
		<label for="id" class="font-medium text-sm">ID </label>

		<input
			pInputText
			[value]="expenseCategory().id"
			id="id"
			name="id"
			type="text"
			disabled="true"
		/>
	</div>

	<div class="flex flex-col gap-2">
		<label for="name" class="font-medium text-sm">Name <gb-toolkit-required-star /></label>

		<input
			pInputText
			formControlName="name"
			id="name"
			name="name"
			type="text"
			maxlength="64"
			required
			placeholder="Ex: Entertainment"
		/>

		@if (
			(formService.form.get('name')?.touched || formService.form.get('name')?.dirty) &&
			formService.form.get('name')?.hasError('required')
		) {
			<p-message severity="error" size="small" variant="simple">Name is required.</p-message>
		}

		@if (
			(formService.form.get('name')?.touched || formService.form.get('name')?.dirty) &&
			formService.form.get('name')?.hasError('maxlength')
		) {
			<p-message severity="error" size="small" variant="simple">
				Name should contain 1 - 64 characters.
			</p-message>
		}
	</div>

	<div class="flex flex-col gap-2">
		<label for="description" class="font-medium text-sm">Description</label>

		<input
			pInputText
			formControlName="description"
			id="description"
			name="description"
			type="text"
			maxlength="256"
			placeholder="Ex: Entertainment related expenses"
		/>

		@if (
			(formService.form.get('description')?.touched ||
				formService.form.get('description')?.dirty) &&
			formService.form.get('description')?.hasError('maxlength')
		) {
			<p-message severity="error" size="small" variant="simple">
				Description should contain at most 256 characters.
			</p-message>
		}
	</div>

	<div class="flex gap-2 transition-all" [class]="isColorPickerPanelShown() ? 'pb-24' : 'pb-0'">
		<label for="hexColorCode" class="font-medium text-sm">Associated color</label>

		<p-colorpicker
			formControlName="hexColorCode"
			name="hexColorCode"
			tabindex="-1"
			inline="false"
			(onShow)="isColorPickerPanelShown.set(true)"
			(onHide)="isColorPickerPanelShown.set(false)"
		/>
	</div>

	<div class="flex flex-col gap-2">
		<label for="creator_id" class="font-medium text-sm">Creator ID </label>

		<input
			pInputText
			[value]="expenseCategory().creator_id"
			id="creator_id"
			name="creator_id"
			type="text"
			disabled="true"
		/>
	</div>

	<div class="flex flex-col gap-2">
		<label for="created_at" class="font-medium text-sm">Created at</label>

		<input
			pInputText
			[value]="expenseCategory().created_at"
			id="created_at"
			name="created_at"
			type="text"
			disabled="true"
		/>
	</div>

	<p-button
		label="Update"
		type="submit"
		icon="pi pi-pencil"
		rounded="true"
		[loading]="formService.isUpdatingExpenseCategory()"
		[disabled]="formService.isUpdatingExpenseCategory()"
		styleClass="w-full"
	/>
</form>
